// 他のソースコードをコンパイルする
#compile "common"


function void MyFunction()
    WriteLog("びぃぃぃーむ！");
end


function void MyGlobalFunction()
    WriteLog("貴様見ているな！");
end


function int Add(int a, int b)
    return a + b;
end


// エントリポイント
// 実行可能コードの生成の場合は必ず必要
// リンク前提実行コードなら不要（逆に存在するとエラー）
function void main()

    // ローカル関数は関数のはじめに宣言（途中宣言は出来ない）
    local int i;
    local int check;
    local int test;


    MyFunction();
    test = Add(-10, 20);


    // 無限ループ
    while (1)

        // 値をインクリメント（+= 1なんて便利な演算は面倒なので後で）
        g_ValA = g_ValA + 1;


        // もし値が100以上ならループから抜ける
        if (g_ValA >= 100)
            break;
        end

        // もしくはこんな風にも書ける（見辛くなくのであまり推奨しない）
        if (g_ValA >= 100) break; end

        // ループ
        for (i=0;i<10;i=i+1)
            // C#から終了チェックの結果をもらう
            check = CheckExit();
            if (check == 0)
                break;
            end
        end

        // アニメーションを実行
        // 残念ながらスクリプトから任意で待機をするかしないかの選択権はない
        // C#側が止めると言ったらCPUが一時停止される
        DoAnimation();

    end
end
